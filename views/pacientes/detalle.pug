extends ../layout

block content
  h1 Detalle del Paciente

  h2 Información General

  .detalle-box
    p
      span.detail-label Id:
      | #{paciente._id || '-'}
    p
      span.detail-label Nombre:
      | #{capitalizar(paciente.nombre || '-')}
    p
      span.detail-label Especie:
      | #{capitalizar(paciente.especie || '-')}
    p
      span.detail-label Edad:
      | #{paciente.edad != null ? paciente.edad + ' años' : '-'}

  h2 Responsable

  .detalle-box
    p
      span.detail-label Nombre:
      | #{capitalizar(responsable.nombre || '-')}
    p
      span.detail-label Teléfono:
      | #{responsable.telefono || '-'}
    p
      span.detail-label Email:
      | #{responsable.email || '-'}
    p
      span.detail-label Dirección:
      | #{responsable.direccion || '-'}

  if paciente.fichaMedica
    h2 Ficha Médica

    .detalle-box
      p
        span.detail-label Raza:
        | #{capitalizar(paciente.fichaMedica.raza || '-')}
      p
        span.detail-label Fecha de Nacimiento:
        | #{paciente.fichaMedica.fechaNacimiento ? paciente.fichaMedica.fechaNacimiento.toLocaleDateString("es-AR") : '-'}
      p
        span.detail-label Peso:
        | #{paciente.fichaMedica.peso ? paciente.fichaMedica.peso + ' kg' : '-'}
      p
        span.detail-label Alergias:
        | #{paciente.fichaMedica.alergias && paciente.fichaMedica.alergias.length ? paciente.fichaMedica.alergias.join(', ') : '-'}
      p
        span.detail-label Notas:
        | #{paciente.fichaMedica.notas || '-'}

  a.button-primary(href="/pacientes") ← Volver al listado
