extends ../layout

block content
  a(href="/pacientes") ← Volver al listado

  h1= modo === 'editar' ? 'Editar Paciente' : 'Nuevo Paciente'

  form(method="POST", action=modo === 'editar' ? `/pacientes/${paciente.id}?_method=PUT` : '/pacientes')

    h2 Datos del paciente

    label(for="nombre") Nombre:
    input(type="text", name="nombre", id="nombre", value=paciente.nombre || '', placeholder="Nombre del paciente", required)

    label(for="especie") Especie:
    select(name="especie", id="especie", required)
      option(value="") Seleccioná una especie
      each especie in animales_validos
        option(value=especie selected=(paciente.especie === especie))= especie

    label(for="raza") Raza:
    input(type="text", name="raza", id="raza", value=paciente.raza || '', placeholder="Raza del animal")

    label(for="fechaNacimiento") Fecha de nacimiento:
    input(type="date", name="fechaNacimiento", id="fechaNacimiento", value=paciente.fechaNacimiento || '', required)

    h2 Datos del responsable

    label(for="responsable_nombre") Nombre del responsable:
    input(type="text", name="responsable[nombre]", id="responsable_nombre", value=responsable.nombre || '', placeholder="Nombre completo", required)

    label(for="responsable_telefono") Teléfono:
    input(type="text", name="responsable[telefono]", id="responsable_telefono", value=responsable.telefono || '', placeholder="Teléfono de contacto", required)

    label(for="responsable_email") Email:
    input(type="email", name="responsable[email]", id="responsable_email", value=responsable.email || '', placeholder="Email válido", required)

    label(for="responsable_direccion") Dirección:
    input(type="text", name="responsable[direccion]", id="responsable_direccion", value=responsable.direccion || '', placeholder="Calle, número, ciudad")

    button(type="submit")= modo === 'editar' ? 'Guardar cambios' : 'Crear'
