extends ../layout

block content
  h1 Productos disponibles

  //Filtrado por categoría
  form(method="GET", style="margin-bottom: 20px; display: flex; gap: 10px; align-items: center;")
    select(name="categoria")
      option(value="") Todas las categorías
      each categoria in categorias
        option(value=categoria selected=(categoria == categoriaSeleccionada))= categoria
    button(type="submit") Filtrar

  // Botón para nuevo producto
  a(href="/productos/crear", class="button-primary") ➕ Nuevo Producto

  // Lista de productos
  ul
    each producto in productos
      li
        h3= producto.nombre
        p
          span.detail-label Precio:
          | $#{producto.precio}
        p
          span.detail-label Stock:
          | #{producto.stock}
        
        // 🔹 Acciones
        div(style="margin-top: 10px;")
          a(href=`/productos/${producto.id}`, style="margin-right: 10px;") 👁️ Ver
          a(href=`/productos/${producto.id}/editar`, style="margin-right: 10px;") ✏️ Editar
          form(method="POST", action=`/productos/${producto.id}?_method=DELETE`, style="display:inline")
            button(type="submit", onclick="return confirm('¿Estás seguro de que querés eliminar este producto?')") 🗑️ Eliminar
