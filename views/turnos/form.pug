extends ../layout

block content
  a(href="/turnos") ‚Üê Volver al listado

  h1= modo === 'editar' ? 'Editar Turno' : 'Nuevo Turno'

  form(method="POST", action=modo === 'editar' ? `/turnos/${turno.id}?_method=PUT` : '/turnos')

    label(for="fecha") Fecha:
    input(type="date", name="fecha", id="fecha", value=(turno && turno.fecha) || '', required)

    label(for="hora") Hora:
    input(type="time", name="hora", id="hora", value=(turno && turno.hora) || '', required)

    label(for="pacienteId") Paciente:
    select(name="pacienteId", id="pacienteId", required)
      option(value="", disabled selected) -- Seleccione un paciente --
      each paciente in pacientes
        option(value=paciente.id selected=(turno && turno.pacienteId == paciente.id) ? true : false)= paciente.nombre

    label(for="servicio") Servicio:
    select(name="servicio", id="servicio", required)
      option(value="", disabled selected) -- Seleccione un servicio --
      each servicio in servicios
        option(value=servicio selected=(turno && turno.servicio == servicio) ? true : false)= servicio.charAt(0).toUpperCase() + servicio.slice(1)

    label(for="motivo") Motivo:
    input(type="text", name="motivo", id="motivo", value=(turno && turno.motivo) || '', placeholder="Ej: Control")
    
    label(for="precio") Precio:
    input(type="text", name="precio", id="precio", value=(turno && turno.precio) || '', required)

    button(type="submit")= modo === 'editar' ? 'Actualizar' : 'Crear'
